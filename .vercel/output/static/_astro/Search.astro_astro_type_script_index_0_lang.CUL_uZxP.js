const w="modulepreload",E=function(p){return"/"+p},g={},y=function(d,l,a){let u=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),n=s?.nonce||s?.getAttribute("nonce");u=Promise.all(l.map(t=>{if(t=E(t),t in g)return;g[t]=!0;const r=t.endsWith(".css"),f=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${f}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":w,r||(o.as="script",o.crossOrigin=""),o.href=t,n&&o.setAttribute("nonce",n),document.head.appendChild(o),r)return new Promise((m,e)=>{o.addEventListener("load",m),o.addEventListener("error",()=>e(new Error(`Unable to preload CSS for ${t}`)))})}))}return u.then(()=>d()).catch(s=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=s,window.dispatchEvent(n),!n.defaultPrevented)throw s})};class v extends HTMLElement{constructor(){super();const d=this.querySelector("button[data-open-modal]"),l=this.querySelector("button[data-close-modal]"),a=this.querySelector("dialog"),u=this.querySelector(".dialog-frame"),s=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!u.contains(e.target))&&t()},n=e=>{a.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",s)},t=()=>a.close();d.addEventListener("click",n),d.disabled=!1,l.addEventListener("click",t),a.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",s)}),window.addEventListener("keydown",e=>{const i=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"?(a.open?t():n(),e.preventDefault()):e.key==="/"&&!a.open&&!i&&(n(),e.preventDefault())});let r={};try{r=JSON.parse(this.dataset.translations||"{}")}catch{}const m=this.dataset.stripTrailingSlash!==void 0?e=>e.replace(/(.)\/(#.*)?$/,"$1$2"):e=>e;window.addEventListener("DOMContentLoaded",()=>{(window.requestIdleCallback||(i=>setTimeout(i,1)))(async()=>{const{PagefindUI:i}=await y(async()=>{const{PagefindUI:c}=await import("./ui-core.Du_2jR6t.js");return{PagefindUI:c}},[]);new i({element:"#starlight__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,translations:r,showSubResults:!0,processResult:c=>{c.url=m(c.url),c.sub_results=c.sub_results.map(h=>(h.url=m(h.url),h))}})})})}}customElements.define("site-search",v);export{y as _};
